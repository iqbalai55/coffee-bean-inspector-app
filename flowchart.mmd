flowchart TD
    A[Start] --> B[Open Web App]
    B --> C[Request Camera Permission]
    C --> D{Permission Granted?}
    D -->|Yes| E[Show Camera Stream]
    D -->|No| F[Show Permission Error]

    E --> G[User Clicks Detect]
    G --> H[Capture Snapshot & Convert to Base64]
    H --> I[Send Base64 to API]
    I --> J[Receive Detections JSON]

    J --> K[Draw Bounding Boxes & Class Counts]
    K --> L[Display Fullscreen Result]

    L --> M{User Retake?}
    M -->|Yes| E
    M -->|No| N[End]
